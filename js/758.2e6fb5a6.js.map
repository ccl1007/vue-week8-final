{"version":3,"file":"js/758.2e6fb5a6.js","mappings":"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","sources":["webpack://vue-week8-final/./src/views/ProductsView.vue","webpack://vue-week8-final/./src/components/PaginationComp.vue","webpack://vue-week8-final/./src/components/PaginationComp.vue?8347","webpack://vue-week8-final/./src/views/ProductsView.vue?91db"],"sourcesContent":["<template>\r\n  <div class=\"container mt-md-5 mt-3 mb-7\">\r\n    <Loading :active=\"isLoading\"></Loading>\r\n    <div class=\"row\" style=\"margin-top: 5rem\">\r\n      <div class=\"col-md-3\">\r\n        <div\r\n          class=\"accordion border border-bottom border-top-0 border-start-0 border-end-0 mb-0\"\r\n        >\r\n          <div class=\"card border-0\">\r\n            <div\r\n              class=\"card-header px-0 py-4 bg-white\"\r\n              id=\"headingOne\"\r\n              data-bs-toggle=\"collapse\"\r\n              data-bs-target=\"#collapseOne\"\r\n            >\r\n              <h4 class=\"mx-auto\">商品分類</h4>\r\n            </div>\r\n            <div\r\n              id=\"collapseOne\"\r\n              class=\"collapse show\"\r\n              aria-labelledby=\"headingOne\"\r\n            >\r\n              <div class=\"card-body py-0\">\r\n                <ul class=\"list-group list-unstyled\" style=\"border: 0px\">\r\n                  <li>\r\n                    <router-link\r\n                      to=\"/products\"\r\n                      class=\"list-group-item list-group-item-action border-0\"\r\n                      >所有商品</router-link\r\n                    >\r\n                  </li>\r\n                  <li>\r\n                    <router-link\r\n                      :to=\"{ path: '/products', query: { category: 'Top' } }\"\r\n                      class=\"list-group-item list-group-item-action border-0\"\r\n                      >上衣</router-link\r\n                    >\r\n                  </li>\r\n                  <li>\r\n                    <router-link\r\n                      :to=\"{ path: '/products', query: { category: 'Outer' } }\"\r\n                      class=\"list-group-item list-group-item-action border-0\"\r\n                      >外套</router-link\r\n                    >\r\n                  </li>\r\n                  <li>\r\n                    <router-link\r\n                      :to=\"{ path: '/products', query: { category: 'Shoes' } }\"\r\n                      class=\"list-group-item list-group-item-action border-0\"\r\n                      >訂製鞋款</router-link\r\n                    >\r\n                  </li>\r\n                  <li>\r\n                    <router-link\r\n                      :to=\"{\r\n                        path: '/products',\r\n                        query: { category: 'Accessory' }\r\n                      }\"\r\n                      class=\"list-group-item list-group-item-action border-0\"\r\n                      >飾品/配件</router-link\r\n                    >\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-md-9\">\r\n        <!-- row-cols-n n-定義欄數 1R/nC -->\r\n        <div class=\"row g-2 row-cols-1 row-cols-md-3 row-cols-lg-3\">\r\n          <div class=\"col mb-4\" v-for=\"product in products\" :key=\"product.id\">\r\n            <div class=\"card border-0 m-2 position-relative\">\r\n              <!-- 圖片等高的解決方式- 使用背景圖 -->\r\n              <router-link :to=\"`/product/${product.id}`\">\r\n                <div\r\n                  :style=\"{ backgroundImage: `url(${product.imageUrl})` }\"\r\n                  style=\"\r\n                    height: 355px;\r\n                    background-size: cover;\r\n                    background-position: center center;\r\n                  \"\r\n                  :alt=\"product.title\"\r\n                ></div>\r\n              </router-link>\r\n              <h5\r\n                class=\"mb-0 mt-3\"\r\n                style=\"\r\n                  overflow: hidden;\r\n                  white-space: nowrap;\r\n                  text-overflow: ellipsis;\r\n                \"\r\n              >\r\n                <router-link\r\n                  class=\"text-decoration-none fw-bold\"\r\n                  :to=\"`/product/${product.id}`\"\r\n                  >{{ product.title }}</router-link\r\n                >\r\n              </h5>\r\n              <div class=\"d-flex justify-content-between mb-1\">\r\n                <small class=\"text-muted\"\r\n                  ><del>NT${{ product.origin_price }}</del></small\r\n                >\r\n                <strong>NT${{ product.price }}</strong>\r\n              </div>\r\n              <button\r\n                class=\"btn btn-secondary fw-bold text-white\"\r\n                @click.prevent=\"addToCart(product.id)\"\r\n                :disabled=\"status.loadingItem === product.id\"\r\n              >\r\n                加入購物車\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <Pagination :pages=\"pagination\" @emit-pages=\"getProducts\"></Pagination>\r\n  <!-- place for footer -->\r\n</template>\r\n\r\n<script>\r\nimport Pagination from '@/components/PaginationComp.vue'\r\nimport emitter from '@/utils/emitter'\r\nexport default {\r\n  data () {\r\n    return {\r\n      products: [],\r\n      id: '',\r\n      pagination: {},\r\n      currentPage: 1,\r\n      isLoading: false,\r\n      status: {\r\n        loadingItem: ''\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    $route () {\r\n      this.getProducts()\r\n    }\r\n  },\r\n  components: {\r\n    Pagination\r\n  },\r\n  methods: {\r\n    getProducts (page = 1) {\r\n      this.isLoading = true\r\n      const { category } = this.$route.query\r\n      let url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}`\r\n      if (category) {\r\n        url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}&category=${category}`\r\n      }\r\n      this.$http.get(url).then((res) => {\r\n        this.isLoading = false\r\n        this.products = res.data.products\r\n        this.pagination = res.data.pagination\r\n      })\r\n    },\r\n    addToCart (id) {\r\n      this.isLoading = true\r\n      this.status.loadingItem = id\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart `\r\n      const data = {\r\n        product_id: id,\r\n        qty: 1\r\n      }\r\n      this.$http.post(url, { data }).then((res) => {\r\n        this.isLoading = false\r\n        this.$swal(res.data.message)\r\n        // 觸發監聽事件\r\n        emitter.emit('get-cart')\r\n        this.status.loadingItem = ''\r\n      })\r\n    }\r\n  },\r\n  mounted () {\r\n    this.getProducts()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <nav aria-label=\"Page navigation example\">\r\n    <ul class=\"pagination justify-content-center\">\r\n      <li :class=\"{ disabled: !pages.has_pre }\" class=\"page-item\">\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          aria-label=\"Previous\"\r\n          @click.prevent=\"updatePage(pages.current_page - 1)\"\r\n        >\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li\r\n        class=\"page-item\"\r\n        v-for=\"page in pages.total_pages\"\r\n        :key=\"page\"\r\n        :class=\"{ active: pages.current_page === page }\"\r\n      >\r\n        <span class=\"page-link\" v-if=\"page === pages.current_page\">{{\r\n          page\r\n        }}</span>\r\n        <a\r\n          class=\"page-link\"\r\n          v-else\r\n          href=\"#\"\r\n          @click.prevent=\"updatePage(page)\"\r\n          >{{ page }}</a\r\n        >\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_next }\">\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          aria-label=\"Next\"\r\n          @click.prevent=\"updatePage(pages.current_page + 1)\"\r\n        >\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\n// :pages=\"{ 頁碼資訊 }\"\r\n// @emitPages=\"更新頁面事件\"\r\nexport default {\r\n  props: ['pages'],\r\n  methods: {\r\n    updatePage (page) {\r\n      this.$emit('emitPages', page)\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./PaginationComp.vue?vue&type=template&id=feb793cc\"\nimport script from \"./PaginationComp.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationComp.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\luku6\\\\OneDrive\\\\文件\\\\Hex\\\\Vue\\\\Vue_week8\\\\vue-week8-final\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=8f2e4bb2\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\luku6\\\\OneDrive\\\\文件\\\\Hex\\\\Vue\\\\Vue_week8\\\\vue-week8-final\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","id","_createVNode","_component_Loading","active","$data","_hoisted_6","_component_router_link","to","path","query","category","_createElementBlock","_Fragment","_renderList","product","key","backgroundImage","imageUrl","alt","title","_toDisplayString","origin_price","price","onClick","$options","disabled","loadingItem","_hoisted_22","_component_Pagination","pages","onEmitPages","_hoisted_3","_hoisted_7","$props","has_pre","href","current_page","total_pages","page","has_next","props","methods","updatePage","this","$emit","__exports__","data","products","pagination","currentPage","isLoading","status","watch","$route","getProducts","components","Pagination","url","$http","get","then","res","addToCart","product_id","qty","post","$swal","message","emitter","mounted","render"],"sourceRoot":""}