"use strict";(self["webpackChunkvue_week8_final"]=self["webpackChunkvue_week8_final"]||[]).push([[10],{9010:function(t,e,s){s.r(e),s.d(e,{default:function(){return it}});var i=s(6252),o=s(3577),d=s(9963);const a={class:"container",style:{"margin-top":"5rem"}},l={class:"row align-items-center"},r={class:"col-md-7"},c={class:"col-md-5"},n={"aria-label":"breadcrumb"},u={class:"breadcrumb bg-white px-0 mb-0 py-3"},p={class:"breadcrumb-item"},h=(0,i.Uk)("首頁"),m={class:"breadcrumb-item"},w=(0,i.Uk)("全部商品"),_={class:"breadcrumb-item"},g={class:"fw-bold h1 mb-1"},b={class:"row"},v={class:"col-md-6"},k={class:"text-muted",style:{"white-space":"pre-wrap"}},y={class:"col-md-6 align-self-end"},f={class:"mb-0 text-muted text-end"},x={class:"h4 fw-bold text-end"},$={class:"row align-items-center"},P={class:"col-6"},z={class:"input-group my-3 bg-light rounded"},C={class:"input-group-prepend"},q=["disabled"],L=(0,i._)("i",{class:"bi bi-dash-circle"},null,-1),W=[L],T={class:"input-group-append"},j=(0,i._)("i",{class:"bi bi-plus-circle"},null,-1),S=[j],U={class:"col-6"},V=["disabled"],G={class:"container my-5"},I={class:"row justify-content-center"},N={class:"col-md-8 col-lg-5"},D={style:{"white-space":"pre-wrap"}},Q=(0,i._)("h3",{class:"fw-bold"},"您可能還喜歡以下產品",-1),H={class:"swiper-container mt-4 mb-5"},K=["onClick"],M={class:"overflow-hidden position-relative"},O={class:"card-body"},Y={class:"card-title space-nowrap overflow-hidden text-truncate"},Z={class:"card-text text-truncate text-muted mb-2"},B={class:"d-flex justify-content-center align-items-center"},A={class:"fs-3 mb-0 me-2"},E={class:"fs-6 mb-0 text-decoration-line-through text-muted"};function F(t,e,s,L,j,F){const J=(0,i.up)("Loading"),R=(0,i.up)("swiper-slide"),X=(0,i.up)("swiper"),tt=(0,i.up)("router-link"),et=(0,i.up)("SwiperSlide"),st=(0,i.up)("Swiper");return(0,i.wg)(),(0,i.iD)("div",a,[(0,i.Wm)(J,{active:j.isLoading},null,8,["active"]),(0,i._)("div",l,[(0,i._)("div",r,[(0,i.Wm)(X,{modules:j.modules,"slides-per-view":1,"space-between":50,navigation:"",pagination:{clickable:!0}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(j.product.imagesUrl,(t=>((0,i.wg)(),(0,i.j4)(R,{key:t},{default:(0,i.w5)((()=>[(0,i._)("div",{style:(0,o.j5)([{backgroundImage:`url(${t})`},{height:"400px","background-size":"contain","background-repeat":"no-repeat","background-position":"center center"}])},null,4)])),_:2},1024)))),128))])),_:1},8,["modules"])]),(0,i._)("div",c,[(0,i._)("nav",n,[(0,i._)("ol",u,[(0,i._)("li",p,[(0,i.Wm)(tt,{class:"text-muted text-decoration-none",to:"/"},{default:(0,i.w5)((()=>[h])),_:1})]),(0,i._)("li",m,[(0,i.Wm)(tt,{class:"text-muted text-decoration-none",to:"/products"},{default:(0,i.w5)((()=>[w])),_:1})]),(0,i._)("li",_,[(0,i.Wm)(tt,{class:"text-decoration-none",to:`/product/${j.product.id}`},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(j.product.title),1)])),_:1},8,["to"])])])]),(0,i._)("h2",g,(0,o.zw)(j.product.title),1),(0,i._)("div",b,[(0,i._)("div",v,[(0,i._)("p",k,(0,o.zw)(j.product.description),1)]),(0,i._)("div",y,[(0,i._)("p",f,[(0,i._)("del",null,"NT$"+(0,o.zw)(j.product.origin_price),1)]),(0,i._)("p",x,"NT$"+(0,o.zw)(j.product.price),1)])]),(0,i._)("div",$,[(0,i._)("div",P,[(0,i._)("div",z,[(0,i._)("div",C,[(0,i._)("button",{class:(0,o.C_)(["btn btn-outline-dark border-0 py-2",{"not-allowed":1===j.qty}]),disabled:1===j.qty,type:"button",onClick:e[0]||(e[0]=t=>F.changeQty("dec"))},W,10,q)]),(0,i.wy)((0,i._)("input",{type:"text",class:"form-control border-0 text-center my-auto shadow-none bg-light",placeholder:"1","onUpdate:modelValue":e[1]||(e[1]=t=>j.qty=t)},null,512),[[d.nr,j.qty]]),(0,i._)("div",T,[(0,i._)("button",{class:"btn btn-outline-dark border-0 py-2",type:"button",onClick:e[2]||(e[2]=(0,d.iM)((t=>F.changeQty("inc")),["prevent"]))},S)])])]),(0,i._)("div",U,[(0,i._)("a",{href:"#",class:"text-nowrap btn btn-dark w-100 py-2",onClick:e[3]||(e[3]=(0,d.iM)(((...t)=>F.addToCart&&F.addToCart(...t)),["prevent"])),disabled:j.status.loadingItem===j.product.id},"加入購物車",8,V)])])])]),(0,i._)("div",G,[(0,i._)("div",I,[(0,i._)("div",N,[(0,i._)("p",D,(0,o.zw)(j.product.content),1)])])]),Q,(0,i._)("div",H,[(0,i.Wm)(st,{spaceBetween:2,loop:!0,navigation:!0,modules:j.modules,breakpoints:j.swiperOption,class:"my-2"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(j.products,(t=>((0,i.wg)(),(0,i.j4)(et,{key:t.id},{default:(0,i.w5)((()=>[(0,i._)("div",{class:"card cursor-pointer",onClick:e=>F.getProduct(t.id)},[(0,i.Wm)(tt,{class:"text-decoration-none",to:`/product/${t.id}`,target:"_blank"},{default:(0,i.w5)((()=>[(0,i._)("div",M,[(0,i._)("div",{style:(0,o.j5)([{backgroundImage:`url(${t.imageUrl})`},{height:"300px","background-size":"cover","background-position":"center center"}])},null,4)]),(0,i._)("div",O,[(0,i._)("h4",Y,[(0,i._)("strong",null,(0,o.zw)(t.title),1)]),(0,i._)("p",Z,(0,o.zw)(t.description),1),(0,i._)("div",B,[(0,i._)("h5",A,"NT$"+(0,o.zw)(t.price),1),(0,i._)("h5",E," NT$"+(0,o.zw)(t.origin_price),1)])])])),_:2},1032,["to"])],8,K)])),_:2},1024)))),128))])),_:1},8,["modules","breakpoints"])])])}var J=s(3181),R=s(1911),X=s(9868),tt={data(){return{products:[],product:[],id:"",qty:1,isLoading:!1,status:{loadingItem:""},modules:[R.W_,R.tl],swiperOption:{1:{slidesPerView:1,slidesPerGroup:1},768:{slidesPerView:2,slidesPerGroup:2},992:{slidesPerView:3,slidesPerGroup:3},1200:{slidesPerView:4,slidesPerGroup:4}}}},components:{Swiper:J.tq,SwiperSlide:J.o5},methods:{getProducts(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/v2/api/luku612150/products/all";this.$http.get(t).then((t=>{this.products=t.data.products}))},getProduct(){this.isLoading=!0;const t=`https://vue3-course-api.hexschool.io/v2/api/luku612150/product/${this.id} `;this.$http.get(t).then((t=>{this.isLoading=!1,this.product=t.data.product}))},addToCart(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/v2/api/luku612150/cart ",e={product_id:this.id,qty:this.qty};this.$http.post(t,{data:e}).then((t=>{this.isLoading=!1,this.$swal(t.data.message),X.Z.emit("get-cart")}))},changeQty(t){"inc"===t&&(this.qty+=1),"dec"===t&&(this.qty-=1)}},mounted(){this.id=this.$route.params.id,this.getProduct(),this.getProducts()}},et=s(3744);const st=(0,et.Z)(tt,[["render",F]]);var it=st}}]);
//# sourceMappingURL=10.6f7d34d9.js.map